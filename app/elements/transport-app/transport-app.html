<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../zonetostudent-card/zonetostudent-card.html">
<link rel="import" href="../mappointtoroute-card/mappointtoroute-card.html">
<link rel="import" href="../genestureport-card/genestureport-card.html">
<link rel="import" href="../cancellation-card/cancellation-card.html">
<link rel="import" href="../routereport-card/routereport-card.html">
<link rel="import" href="../refund-card/refund-card.html">
<link rel="import" href="../item-card/item-card.html">
<link rel="import" href="../accountsadmin-card/accountsadmin-card.html">
<link rel="import" href="../transportadmin-card/transportadmin-card.html">
<link rel="import" href="../login-card/login-card.html">
<link rel="import" href="../adminmanager-card/adminmanager-card.html">
<link rel="import" href="../financemanager-card/financemanager-card.html">
<link rel="import" href="../approvediscount-card/approvediscount-card.html">
<link rel="import" href="../refund-list/refund-list.html">
<link rel="import" href="../discountstudent-card/discountstudent-card.html">
<link rel="import" href="../transportfee-card/transportfee-card.html">
<link rel="import" href="../mapstudenttopoint-card/mapstudenttopoint-card.html">
<link rel="import" href="../discountverify-card/discountverify-card.html">
<link rel="import" href="../refundverify-card/refundverify-card.html">
<link rel="import" href="../receipt-card/receipt-card.html">
<link rel="import" href="../feereceipt-card/feereceipt-card.html">
<link rel="import" href="../import-excel/import-excel.html">
<link rel="import" href="../feereports-card/feereports-card.html">
<link rel="import" href="../pending-card/pending-card.html">
<link rel="import" href="../chequedetail-card/chequedetail-card.html">
<link rel="import" href="../bouncecheque-card/bouncecheque-card.html">
<link rel="import" href="../nodata-card/nodata-card.html">
<link rel="import" href="../studentpass-card/studentpass-card.html">
<link rel="import" href="../student-detail-card/student-detail-card.html">
<link rel="import" href="../feereports2-card/feereports2-card.html">
<link rel="import" href="../password-card/password-card.html">
<link rel="import" href="../routecreate-card/routecreate-card.html">
<link rel="import" href="../bus-card/bus-card.html">
<link rel="import" href="../driver-card/driver-card.html">
<link rel="import" href="../attender-card/attender-card.html">
<link rel="import" href="../bus-route-card/bus-route-card.html">
<link rel="import" href="../passtemplate-card/passtemplate-card.html">
<link rel="import" href="../routecreate-card/routecreate-card.html">
<link rel="import" href="../zonechange-card/zonechange-card.html">
<link rel="import" href="../vehicleroute-card/vehicleroute-card.html">
<link rel="import" href="../bus-report/bus-report.html">
<link rel="import" href="../changepoint-card/changepoint-card.html">
<link rel="import" href="../consolidated-report/consolidated-report.html">
<link rel="import" href="../attendance-card/attendance-card.html">
<link rel="stylesheet" type="text/css" href="../styles/styles.css">
  <dom-module id="transport-app">
  <template>
  <style>
  .in
  {
  float:right;
  font-size:12px;
  }
  .backbutton
  {
    float:left;
    width: 4%;
  }
  </style>

  <div class="head">
  <paper-icon-button class="backbutton" src="../../images/home.png" on-click="home"></paper-icon-button>
      <label>{{title}}</label>
      <paper-button class="in" on-click="signout">Sign Out</paper-button>
    </div>

      <div class="content">
        <iron-pages selected="{{page}}" attr-for-selected="data-category">
            <section data-category="loginpage">
              <login-card></login-card>
            </section>
            <section data-category="accountadmin">
              <accountsadmin-card></accountsadmin-card>
            </section>
            <section data-category="transportadmin">
              <transportadmin-card></transportadmin-card>
            </section>
            <section data-category="financemanager">
              <financemanager-card></financemanager-card>
            </section>
            <section data-category="zonetostudent">
              <zonetostudent-card></zonetostudent-card>
            </section>
           <section data-category="mappointtoroute">
              <mappointtoroute-card></mappointtoroute-card>
           </section>
            <section data-category="mapstudenttopoint">
              <mapstudenttopoint-card></mapstudenttopoint-card>
           </section>
            <section data-category="generatereport">
              <genestureport-card></genestureport-card>
           </section>
            <section data-category="cancellation">
              <cancellation-card></cancellation-card>
           </section>
            <section data-category="feereport">
              <feereport-card></feereport-card>
           </section>
            <section data-category="feereports">
              <feereports-card></feereports-card>
           </section>
            <section data-category="generateroutereport">
              <routereport-card></routereport-card>
           </section>
            <section data-category="transportfee">
              <transportfee-card></transportfee-card>
           </section>
            <section data-category="approval">
              <refund-list></refund-list>
           </section>
           <section data-category="discount">
              <discountstudent-card></discountstudent-card>
           </section>
          <section data-category="adminmanager">
              <adminmanager-card></adminmanager-card>
           </section>
            <section data-category="approvediscount">
              <approvediscount-card></approvediscount-card>
           </section>
           <section data-category="discountverify">
              <discountverify-card></discountverify-card>
           </section>
           <section data-category="refundverify">
              <refundverify-card></refundverify-card>
           </section>
           <section data-category="importexcel">
              <import-excel></import-excel>
           </section>
           <section data-category="receipt">
              <receipt-card></receipt-card>
           </section>
            <section data-category="feereceipt">
              <feereceipt-card></feereceipt-card>
           </section>
             <section data-category="chequedetail">
              <chequedetail-card></chequedetail-card>
           </section>
            <section data-category="bouncechequedetail">
              <bouncecheque-card></bouncecheque-card>
           </section>
            <section data-category="nodata">
              <nodata-card></nodata-card>
            </section>
           <section data-category="pass">
              <studentpass-card></studentpass-card>
           </section>
          <section data-category="pending">
            <pending-card></pending-card>
          </section>
          <section data-category="addstudent">
            <student-detail-card></student-detail-card>
          </section>
          <section data-category="editcheque">
            <editcheque-card></editcheque-card>
          </section>
          <section data-category="feereports2">
            <feereports2-card></feereports2-card>
            </section>
          <section data-category="password">
            <password-card></password-card>
          </section>
          <section data-category="addroute">
            <routecreate-card></routecreate-card>
          </section>
          <section data-category="passtemp">
            <passtemplate-card></passtemplate-card>
          </section>
          <section data-category="bus">
            <bus-card></bus-card>
          </section>
          <section data-category="driver">
            <driver-card></driver-card>
          </section>
          <section data-category="attender">
            <attender-card></attender-card>
          </section>
           <section data-category="passtemp">
           <passtemplate-card></passtemplate-card>
          </section>
          <section data-category="bustoroute">
            <bus-route-card></bus-route-card>
          </section>
           <section data-category="zonechange">
            <zonechange-card></zonechange-card>
          </section>
          <section data-category="busreport">
            <bus-report></bus-report>
          </section>
          <section data-category="consolidatedreport">
            <consolidated-report></consolidated-report>
          </section>
          <section data-category="excelreport">
            <excelreport-card></excelreport-card>
          </section>
          <section data-category="vehicleroute">
          <vehicleroute-card></vehicleroute-card>
          </section>
           <section data-category="changepoint">
          <changepoint-card></changepoint-card>
          </section>
          <section data-category="gradewiseroute">
            <gradewiseroute-report></gradewiseroute-report>
          </section>
          <section data-category="summary">
            <summary-report></summary-report>
          </section>
           <section data-category="attendance">
            <attendance-card></attendance-card>
          </section>
          </iron-pages>
       </div>
       <div class="footer"></div>
  </template>
  <script>
  Polymer({
    is: "transport-app",
    ready: function() {
   var name=sessionStorage.getItem("userinfo");
   var currpage=localStorage.getItem("curr_sess_page");
   if(name=="Transport Admin")  {
    //alert('in');
    /*this.page="transportadmin";
    if((currpage=='mappointtoroute')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='mappointtoroute';
    }
    else if((currpage=='mapstudenttopoint')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='mapstudenttopoint';
    }
    else if((currpage=='approval')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='approval';
    }
    else if((currpage=='cancellation')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='cancellation';
    }
    else if((currpage=='generatereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generatereport';
    }
    else if((currpage=='generateroutereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generateroutereport';
    }
    else if((currpage=='pass')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='pass';
    }*/
  }
  else if(name=="Accounts Admin"){
   this.page="accountadmin";
   /*if((currpage=='zonetostudent')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='zonetostudent';
    }
    else if((currpage=='transportfee')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='transportfee';
    }
    else if((currpage=='discount')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='discount';
    }
    else if((currpage=='generatereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generatereport';
    }
    else if((currpage=='discountverify')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='discountverify';
    }
    else if((currpage=='receipt')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='receipt';
    }
    else if((currpage=='feereports')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='feereports';
    }
   else if((currpage=='pending')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='pending';
    }
   else if((currpage=='addstudent')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='addstudent';
    }*/
  }
  else if(name=="Admin Manager"){
   this.page="adminmanager";
   /*if((currpage=='approvediscount')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='approvediscount';
    }*/
  }
  },
  setPage:function(page,title){
    //alert(page);
    localStorage.setItem("curr_sess_homepage","0");
    localStorage.setItem("curr_sess_page",page);
    this.page=page;
    this.title=title;
 },
 signout:function()
 {
  window.location.href="../index.html";

   //document.querySelector('app-card').setPage("loginpage");
 },
  home:function(){
   var name=sessionStorage.getItem("userinfo");
   //alert(name);
   var currpage=localStorage.getItem("curr_sess_page");
   //alert(currpage);
    if(name=="Accounts Admin")  {
      document.querySelector('transportfee-service').ready();
      document.querySelector('transportfee-service').FnClear();
      /*document.querySelector('receipt-card').FnClear();
      document.querySelector('receipt-card').ready();
      document.querySelector('cqreceipt-card').FnClear();
      document.querySelector('cqreceipt-card').ready();
      document.querySelector('zoneinstalltype-card').FnClear();
      document.querySelector('zoneinstalltype-card').ready();*/
    if(currpage=="zonetostudent"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('zonetostudent-card').FnClear();
      document.querySelector('zonetostudent-card').ready();
       document.querySelector('zoneinstalltype-card').FnClear();
      document.querySelector('zoneinstalltype-card').ready();
      
    }
    if(currpage=="feereports"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('feereports-card').FnClear();
      document.querySelector('feereports-card').ready();
      
    }
    if(currpage=="transportfee"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('transportfee-card').FnClear();
      document.querySelector('transportfee-card').ready();
      
    }
    if(currpage=="pending"){
      //document.querySelector('pending-card').FnClear();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('pending-card').ready();
      
    }
    if(currpage=="receipt"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('zonetostudent-card').FnClear();
      document.querySelector('zonetostudent-card').ready();
      if(sessionStorage.getItem("recflag")=="0")
      {
      document.querySelector('zoneinstalltype-card').FnClear();
      document.querySelector('zoneinstalltype-card').ready();
      }
      if(sessionStorage.getItem("recflag")=="1")
      {
      document.querySelector('transportfee-card').FnClear();
      document.querySelector('transportfee-card').ready();
      }
      document.querySelector('receipt-card').FnClear();
      document.querySelector('receipt-card').ready();
      document.querySelector('cqreceipt-card').FnClear();
      document.querySelector('cqreceipt-card').ready();
      
      
    }
    if(currpage=="addstudent"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('student-detail-card').FnClear();
      document.querySelector('student-detail-card').ready();
      
    }
    if(currpage=="zonechange"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
      document.querySelector('zonechange-card').FnClear();
      document.querySelector('zonechange-card').ready();
      
    }
   }
   if(name=="Transport Admin")  {
    document.querySelector('mapstudenttopoint-service').FnClear();
    document.querySelector('transport-service').FnClear();
    if(currpage=="mapstudenttopoint"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('mapstudenttopoint-card').FnClear();
      document.querySelector('mapstudenttopoint-card').ready();
      
    }
     if(currpage=="changepoint"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('changepoint-card').FnClear();
      document.querySelector('changepoint-card').ready();
      
    }
     if(currpage=="mappointtoroute"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('mappointtoroute-card').FnClear();
      document.querySelector('mappointtoroute-card').ready();
      
    }
    if(currpage=="cancellation"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('cancellation-card').FnClear();
      document.querySelector('cancellation-card').ready();
      
    }
    if(currpage=="generateroutereport"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('routereport-card').FnClear();
      document.querySelector('routereport-card').ready();
    }
    if(currpage=="gradewiseroute"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('gradewiseroute-report').FnClear();
      document.querySelector('gradewiseroute-report').ready(); 
    }
   if(currpage=="pass"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      document.querySelector('studentpass-card').FnClear();
     document.querySelector('passtemplate-card').FnClear();
      document.querySelector('studentpass-card').ready();
      
    }
    if(currpage=="addroute"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
     document.querySelector('routecreate-card').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
    if(currpage=="bus"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
      document.querySelector('bus-card').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
     if(currpage=="bustoroute"){
       document.querySelector('app-card').setPage("transportapp");
       document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
       //document.querySelector('studentpass-card').FnClear();
      document.querySelector('bus-route-card').FnClear();
      document.querySelector('bus-route-card').ready();
       //document.querySelector('bus-route-item-card').FnClear();
       //document.querySelector('studentpass-card').ready();
       
     }
    if(currpage=="driver"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
      document.querySelector('driver-card').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
    if(currpage=="attender"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
      document.querySelector('attender-card').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
    if(currpage=="busreport"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
      document.querySelector('bus-report').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
    if(currpage=="gradewiseroute"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
      document.querySelector('gradewiseroute-report').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
    if(currpage=="vehicleroute"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
      //document.querySelector('studentpass-card').FnClear();
      document.querySelector('vehicleroute-card').FnClear();
      //document.querySelector('studentpass-card').ready();
      
    }
   }
    if(name=="Admin Manager")  {
    if(currpage=="approvediscount"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("adminmanager","Admin Manager");
      //document.querySelector('approveddiscount-card').FnClear();
      document.querySelector('approvediscount-card').ready();
      
    }
    if(currpage=="nodata"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("adminmanager","Admin Manager");
      //document.querySelector('approveddiscount-card').FnClear();
      document.querySelector('nodata-card').ready();
      
    }
      if(currpage=="feereports2"){

        document.querySelector('app-card').setPage("transportapp");
        document.querySelector('transport-app').setPage("adminmanager","Admin Manager");
      }
    if(currpage=="password"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("adminmanager","Admin Manager");
      document.querySelector('password-card').FnClear();
      document.querySelector('password-card').ready();
      
    }
    if(currpage=="consolidatedreport"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("adminmanager","Admin Manager");

      //document.querySelector('password-card').FnClear();
      document.querySelector('consolidated-report').ready();

    }

  }
  if(name=="Finance Manager")  {
    if(currpage=="generatereport"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      document.querySelector('genestureport-card').FnClear();
      document.querySelector('genestureport-card').ready();
      
    }
    if(currpage=="chequedetail"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      //document.querySelector('genestureport-card').FnClear();
      document.querySelector('chequedetail-card').ready();
      
    }
    if(currpage=="bouncechequedetail"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      //document.querySelector('genestureport-card').FnClear();
      document.querySelector('bouncecheque-card').ready();
      
    }
    if(currpage=="discount"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      document.querySelector('discountstudent-card').FnClear();
      document.querySelector('discountstudent-card').ready();
      
    }
    if(currpage=="editcheque"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      document.querySelector('editcheque-card').FnClear();
      document.querySelector('editcheque-card').ready();
      
    }
    if(currpage=="discount"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      document.querySelector('discountstudent-card').FnClear();
      document.querySelector('discountstudent-card').ready();
      
    }if(currpage=="nodata"){
      document.querySelector('app-card').setPage("transportapp");
     document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      //document.querySelector('approveddiscount-card').FnClear();
      document.querySelector('nodata-card').ready();
      
    }
    if(currpage=="refundverify"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      //document.querySelector('refundverify-card').FnClear();
      document.querySelector('refundverify-card').ready();
      
    }
    if(currpage=="feereports"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      document.querySelector('feereports-card').FnClear();
      document.querySelector('feereports-card').ready();
      
    }
     if(currpage=="pending"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      //document.querySelector('pending-card').FnClear();
      document.querySelector('pending-card').ready();
      
    }
     if(currpage=="generateroutereport"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      document.querySelector('routereport-card').FnClear();
      document.querySelector('routereport-card').ready();
    }
    if(currpage=="excelreport"){
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
      //document.querySelector('password-card').FnClear();
      document.querySelector('excelreport-card').ready();
    }

  }
 }
  });

  </script>
</dom-module>
